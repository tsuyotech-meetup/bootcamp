<!doctype html>
<html lang="ja-JP">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.22" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const useChoice = localStorage.getItem('vuepress-color-scheme')
      const systemStatus =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (useChoice === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (useChoice === 'dark' || systemStatus) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <title>DockerfileåŸºç¤ç·¨ - æœ€åˆã®ã‚³ãƒ³ãƒ†ãƒŠã‚’ä½œã£ã¦ã¿ã‚ˆã† | Bootcamp</title><meta name="description" content="Dockerfileã®åŸºæœ¬çš„ãªæ›¸ãæ–¹ã‚’å­¦ã³ã€å®Ÿéš›ã«Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚³ãƒ³ãƒ†ãƒŠã‚’ä½œæˆã—ã¾ã™">
    <link rel="preload" href="/bootcamp/assets/style-Dssc6p-9.css" as="style"><link rel="stylesheet" href="/bootcamp/assets/style-Dssc6p-9.css">
    <link rel="modulepreload" href="/bootcamp/assets/app-DIohD7Uc.js"><link rel="modulepreload" href="/bootcamp/assets/01_dockerfile_basic.html-IxNVsdYr.js">
    <link rel="prefetch" href="/bootcamp/assets/About.html-DrJZ8nhR.js" as="script"><link rel="prefetch" href="/bootcamp/assets/index.html-V55iG2j_.js" as="script"><link rel="prefetch" href="/bootcamp/assets/00_container.html-DrpSP2m5.js" as="script"><link rel="prefetch" href="/bootcamp/assets/02_compose_basic.html-LtWdp2PY.js" as="script"><link rel="prefetch" href="/bootcamp/assets/03_practical_usage.html-BaeIER4n.js" as="script"><link rel="prefetch" href="/bootcamp/assets/04_troubleshooting.html-BC_aBsbF.js" as="script"><link rel="prefetch" href="/bootcamp/assets/404.html-mcZaOVwu.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/bootcamp/"><!----><span class="vp-site-name" aria-hidden="true">Bootcamp</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/bootcamp/" aria-label="Home"><!--[--><!--[--><!--]--><!--]-->Home<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/goegoe0212/bootcamp" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->GitHub<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="æ¤œç´¢" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/bootcamp/" aria-label="Home"><!--[--><!--[--><!--]--><!--]-->Home<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/goegoe0212/bootcamp" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->GitHub<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">DockerfileåŸºç¤ç·¨ - æœ€åˆã®ã‚³ãƒ³ãƒ†ãƒŠã‚’ä½œã£ã¦ã¿ã‚ˆã† <!----></p><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div vp-content><!--[--><!--]--><div><!----><h1 id="page-frontmatter-title" tabindex="-1"><a class="header-anchor" href="#page-frontmatter-title"><span>DockerfileåŸºç¤ç·¨ - æœ€åˆã®ã‚³ãƒ³ãƒ†ãƒŠã‚’ä½œã£ã¦ã¿ã‚ˆã†</span></a></h1><h2 id="å­¦ç¿’ç›®æ¨™" tabindex="-1"><a class="header-anchor" href="#å­¦ç¿’ç›®æ¨™"><span>å­¦ç¿’ç›®æ¨™</span></a></h2><p>ã“ã®ç« ã‚’å®Œäº†ã™ã‚‹ã¨ã€ä»¥ä¸‹ã®ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ï¼š</p><ul><li><strong>Dockerfileã®åŸºæœ¬æ§‹æ–‡ã‚’ç†è§£</strong>ã—ã€ã‚·ãƒ³ãƒ—ãƒ«ãªã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œæˆã§ãã‚‹</li><li><strong>åŠ¹ç‡çš„ãªãƒ¬ã‚¤ãƒ¤ãƒ¼æ§‹æˆ</strong>ã‚’è€ƒæ…®ã—ãŸDockerfileã‚’æ›¸ã‘ã‚‹</li><li><strong>Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ç”¨ã‚³ãƒ³ãƒ†ãƒŠ</strong>ã‚’ä½œæˆã—ã€å‹•ä½œç¢ºèªã§ãã‚‹</li><li><strong>Dockerfileã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹</strong>ã‚’é©ç”¨ã§ãã‚‹</li></ul><h2 id="äº‹å‰æº–å‚™" tabindex="-1"><a class="header-anchor" href="#äº‹å‰æº–å‚™"><span>äº‹å‰æº–å‚™</span></a></h2><h3 id="ä½œæ¥­ãƒ†ã‚™ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®æº–å‚™" tabindex="-1"><a class="header-anchor" href="#ä½œæ¥­ãƒ†ã‚™ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®æº–å‚™"><span>ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®æº–å‚™</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token comment"># user nameã¯å„è‡ªå¥½ããªåå‰ã‚’ä»˜ã‘ã¦ãã ã•ã„ã€‚</span></span>
<span class="line"><span class="token function">mkdir</span> <span class="token parameter variable">-p</span> docker-handson-<span class="token operator">&lt;</span>user name<span class="token operator">&gt;</span></span>
<span class="line"><span class="token builtin class-name">cd</span> docker-handson-<span class="token operator">&lt;</span>user name<span class="token operator">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="dockerfileã¨ã¯" tabindex="-1"><a class="header-anchor" href="#dockerfileã¨ã¯"><span>Dockerfileã¨ã¯</span></a></h2><p><strong>Dockerfile</strong>ã¯ã€ã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œæˆã™ã‚‹ãŸã‚ã®è¨­è¨ˆæ›¸ã§ã™ã€‚ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã«è¨˜è¿°ã•ã‚ŒãŸã‚¤ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆå‘½ä»¤ï¼‰ã«å¾“ã£ã¦ã€è‡ªå‹•çš„ã«ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒãƒ“ãƒ«ãƒ‰ã•ã‚Œã¾ã™ã€‚</p><h3 id="ä¸»è¦ãªã‚¤ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚·ãƒ§ãƒ³" tabindex="-1"><a class="header-anchor" href="#ä¸»è¦ãªã‚¤ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚·ãƒ§ãƒ³"><span>ä¸»è¦ãªã‚¤ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚·ãƒ§ãƒ³</span></a></h3><table><thead><tr><th>å‘½ä»¤</th><th>èª¬æ˜</th><th>ä¾‹</th></tr></thead><tbody><tr><td><code>FROM</code></td><td>ãƒ™ãƒ¼ã‚¹ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’æŒ‡å®š</td><td><code>FROM ubuntu:20.04</code></td></tr><tr><td><code>RUN</code></td><td>ãƒ“ãƒ«ãƒ‰æ™‚ã«ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ</td><td><code>RUN apt-get update</code></td></tr><tr><td><code>COPY</code></td><td>ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚³ãƒ³ãƒ†ãƒŠã«ã‚³ãƒ”ãƒ¼</td><td><code>COPY app.py /app/</code></td></tr><tr><td><code>WORKDIR</code></td><td>ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’è¨­å®š</td><td><code>WORKDIR /app</code></td></tr><tr><td><code>EXPOSE</code></td><td>ãƒãƒ¼ãƒˆã‚’å…¬é–‹</td><td><code>EXPOSE 8080</code></td></tr><tr><td><code>CMD</code></td><td>ã‚³ãƒ³ãƒ†ãƒŠèµ·å‹•æ™‚ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚³ãƒãƒ³ãƒ‰</td><td><code>CMD [&quot;python&quot;, &quot;app.py&quot;]</code></td></tr></tbody></table><h2 id="ãƒãƒ³ã‚¹ã‚™ã‚ªãƒ³1-hello-worldã‚³ãƒ³ãƒ†ãƒŠã‚’ä½œã‚ã†" tabindex="-1"><a class="header-anchor" href="#ãƒãƒ³ã‚¹ã‚™ã‚ªãƒ³1-hello-worldã‚³ãƒ³ãƒ†ãƒŠã‚’ä½œã‚ã†"><span>ãƒãƒ³ã‚ºã‚ªãƒ³1: Hello Worldã‚³ãƒ³ãƒ†ãƒŠã‚’ä½œã‚ã†</span></a></h2><h3 id="ç›®æ¨™" tabindex="-1"><a class="header-anchor" href="#ç›®æ¨™"><span>ğŸ¯ ç›®æ¨™</span></a></h3><p>æœ€ã‚‚åŸºæœ¬çš„ãªDockerfileã‚’ä½œæˆã—ã€ãƒ“ãƒ«ãƒ‰ãƒ»å®Ÿè¡Œã®æµã‚Œã‚’ä½“é¨“ã—ã¾ã™ã€‚</p><h3 id="å®Ÿè£…" tabindex="-1"><a class="header-anchor" href="#å®Ÿè£…"><span>ğŸ“ å®Ÿè£…</span></a></h3><p><strong>1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ</strong></p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">mkdir</span> hands-on1</span>
<span class="line"><span class="token builtin class-name">cd</span> hands-on1</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ</strong></p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">hands-on1/</span>
<span class="line">â””â”€â”€ Dockerfile</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>2. Dockerfileã‚’ä½œæˆ</strong></p><div class="language-Dockerfile line-numbers-mode" data-highlighter="prismjs" data-ext="Dockerfile"><pre><code><span class="line"># Dockerfile</span>
<span class="line">FROM ubuntu:24.04</span>
<span class="line"></span>
<span class="line"># ã‚·ãƒ³ãƒ—ãƒ«ãªHello Worldã‚’å‡ºåŠ›</span>
<span class="line">CMD [&quot;echo&quot;, &quot;Hello, Docker World!&quot;]</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>3. ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ãƒ“ãƒ«ãƒ‰</strong></p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">docker</span> build <span class="token parameter variable">-t</span> hello-docker-<span class="token operator">&lt;</span>user name<span class="token operator">&gt;</span> <span class="token builtin class-name">.</span></span>
<span class="line"><span class="token comment"># docker build -t hello-docker-conan .</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>4. ã‚³ãƒ³ãƒ†ãƒŠã‚’å®Ÿè¡Œ</strong></p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">docker</span> run hello-docker-<span class="token operator">&lt;</span>user name<span class="token operator">&gt;</span></span>
<span class="line"><span class="token comment"># docker run hello-docker-conan</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å‹•ä½œç¢ºèª" tabindex="-1"><a class="header-anchor" href="#å‹•ä½œç¢ºèª"><span>âœ… å‹•ä½œç¢ºèª</span></a></h3><p>ä»¥ä¸‹ã®å‡ºåŠ›ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèªï¼š</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">Hello, Docker World!</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="è§£èª¬" tabindex="-1"><a class="header-anchor" href="#è§£èª¬"><span>ğŸ’¡ è§£èª¬</span></a></h3><ul><li><code>FROM ubuntu:24.04</code>: Ubuntu 24.04ã‚’ãƒ™ãƒ¼ã‚¹ã‚¤ãƒ¡ãƒ¼ã‚¸ã¨ã—ã¦ä½¿ç”¨</li><li><code>CMD</code>: ã‚³ãƒ³ãƒ†ãƒŠèµ·å‹•æ™‚ã«å®Ÿè¡Œã•ã‚Œã‚‹ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚³ãƒãƒ³ãƒ‰</li><li><code>-t hello-docker-&lt;user name&gt;</code>: ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã‚¤ãƒ¡ãƒ¼ã‚¸ã«åå‰ï¼ˆã‚¿ã‚°ï¼‰ã‚’ä»˜ä¸</li></ul><h2 id="ãƒãƒ³ã‚¹ã‚™ã‚ªãƒ³2-ã‚·ãƒ³ãƒ•ã‚šãƒ«ãªwebã‚µãƒ¼ãƒã‚™ãƒ¼ã‚’ä½œã‚ã†" tabindex="-1"><a class="header-anchor" href="#ãƒãƒ³ã‚¹ã‚™ã‚ªãƒ³2-ã‚·ãƒ³ãƒ•ã‚šãƒ«ãªwebã‚µãƒ¼ãƒã‚™ãƒ¼ã‚’ä½œã‚ã†"><span>ãƒãƒ³ã‚ºã‚ªãƒ³2: ã‚·ãƒ³ãƒ—ãƒ«ãªWebã‚µãƒ¼ãƒãƒ¼ã‚’ä½œã‚ã†</span></a></h2><h3 id="ç›®æ¨™-1" tabindex="-1"><a class="header-anchor" href="#ç›®æ¨™-1"><span>ğŸ¯ ç›®æ¨™</span></a></h3><p>Pythonã‚’ä½¿ã£ãŸã‚·ãƒ³ãƒ—ãƒ«ãªWebã‚µãƒ¼ãƒãƒ¼ã®ã‚³ãƒ³ãƒ†ãƒŠã‚’ä½œæˆã—ã¾ã™ã€‚</p><h3 id="å®Ÿè£…-1" tabindex="-1"><a class="header-anchor" href="#å®Ÿè£…-1"><span>ğŸ“ å®Ÿè£…</span></a></h3><p><strong>1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ</strong></p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">mkdir</span> hands-on2</span>
<span class="line"><span class="token builtin class-name">cd</span> hands-on2</span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ</strong></p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">hands-on2/</span>
<span class="line">â”œâ”€â”€ Dockerfile</span>
<span class="line">â””â”€â”€ app/</span>
<span class="line">    â””â”€â”€ main.py</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>2. Pythonã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œæˆ</strong></p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token comment"># app/main.py</span></span>
<span class="line"><span class="token keyword">from</span> http<span class="token punctuation">.</span>server <span class="token keyword">import</span> HTTPServer<span class="token punctuation">,</span> SimpleHTTPRequestHandler</span>
<span class="line"><span class="token keyword">import</span> os</span>
<span class="line"><span class="token keyword">import</span> sys</span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">MyHTTPRequestHandler</span><span class="token punctuation">(</span>SimpleHTTPRequestHandler<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">do_GET</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        self<span class="token punctuation">.</span>send_response<span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span></span>
<span class="line">        self<span class="token punctuation">.</span>send_header<span class="token punctuation">(</span><span class="token string">&#39;Content-type&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;text/html; charset=UTF-8&#39;</span><span class="token punctuation">)</span></span>
<span class="line">        self<span class="token punctuation">.</span>end_headers<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">        html <span class="token operator">=</span> <span class="token triple-quoted-string string">&#39;&#39;&#39;</span>
<span class="line">        &lt;html&gt;</span>
<span class="line">            &lt;head&gt;</span>
<span class="line">                &lt;meta charset=&quot;UTF-8&quot;&gt;</span>
<span class="line">            &lt;/head&gt;</span>
<span class="line">            &lt;body&gt;</span>
<span class="line">                &lt;h1&gt;ğŸ³ Hello from Docker!&lt;/h1&gt;</span>
<span class="line">                &lt;p&gt;ã“ã®ãƒšãƒ¼ã‚¸ã¯Dockerã‚³ãƒ³ãƒ†ãƒŠå†…ã§å‹•ã„ã¦ã„ã¾ã™ã€‚&lt;/p&gt;</span>
<span class="line">            &lt;/body&gt;</span>
<span class="line">        &lt;/html&gt;</span>
<span class="line">        &#39;&#39;&#39;</span></span>
<span class="line">        self<span class="token punctuation">.</span>wfile<span class="token punctuation">.</span>write<span class="token punctuation">(</span>html<span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">&#39;utf-8&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">&#39;__main__&#39;</span><span class="token punctuation">:</span></span>
<span class="line">    port <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>environ<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&#39;PORT&#39;</span><span class="token punctuation">,</span> <span class="token number">8080</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">    server <span class="token operator">=</span> HTTPServer<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">&#39;0.0.0.0&#39;</span><span class="token punctuation">,</span> port<span class="token punctuation">)</span><span class="token punctuation">,</span> MyHTTPRequestHandler<span class="token punctuation">)</span></span>
<span class="line">    </span>
<span class="line">    <span class="token keyword">try</span><span class="token punctuation">:</span></span>
<span class="line">        server<span class="token punctuation">.</span>serve_forever<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">except</span> KeyboardInterrupt<span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\nShutting down server...&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">finally</span><span class="token punctuation">:</span></span>
<span class="line">        server<span class="token punctuation">.</span>server_close<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Server stopped&quot;</span><span class="token punctuation">)</span></span>
<span class="line">        sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>3. Dockerfileã‚’ä½œæˆ</strong></p><div class="language-Dockerfile line-numbers-mode" data-highlighter="prismjs" data-ext="Dockerfile"><pre><code><span class="line"># Dockerfile</span>
<span class="line">FROM python:3.13</span>
<span class="line"></span>
<span class="line"># ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’è¨­å®š</span>
<span class="line">WORKDIR /app</span>
<span class="line"></span>
<span class="line"># ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚³ãƒ”ãƒ¼</span>
<span class="line">COPY ./app/ .</span>
<span class="line"></span>
<span class="line"># ãƒãƒ¼ãƒˆã‚’å…¬é–‹</span>
<span class="line">EXPOSE 8080</span>
<span class="line"></span>
<span class="line"># ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’èµ·å‹•</span>
<span class="line">CMD [&quot;python&quot;, &quot;main.py&quot;]</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>4. ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦å®Ÿè¡Œ</strong></p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token comment"># ã‚¤ãƒ¡ãƒ¼ã‚¸ãƒ“ãƒ«ãƒ‰</span></span>
<span class="line"><span class="token function">docker</span> build <span class="token parameter variable">-t</span> simple-web-<span class="token operator">&lt;</span>user name<span class="token operator">&gt;</span> <span class="token builtin class-name">.</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># ã‚³ãƒ³ãƒ†ãƒŠå®Ÿè¡Œï¼ˆãƒãƒ¼ãƒˆãƒãƒƒãƒ”ãƒ³ã‚°ä»˜ãï¼‰</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-p</span> <span class="token number">8080</span>:8080 simple-web-<span class="token operator">&lt;</span>user name<span class="token operator">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å‹•ä½œç¢ºèª-1" tabindex="-1"><a class="header-anchor" href="#å‹•ä½œç¢ºèª-1"><span>âœ… å‹•ä½œç¢ºèª</span></a></h3><p>ãƒ–ãƒ©ã‚¦ã‚¶ã§ <code>http://localhost:8080</code> ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã€Webãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèªã€‚</p><h3 id="è§£èª¬-1" tabindex="-1"><a class="header-anchor" href="#è§£èª¬-1"><span>ğŸ’¡ è§£èª¬</span></a></h3><ul><li><code>python:3.13</code>: Pythonç’°å¢ƒã®ãƒ™ãƒ¼ã‚¹ã‚¤ãƒ¡ãƒ¼ã‚¸</li><li><code>WORKDIR /app</code>: ä»¥é™ã®ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’è¨­å®š</li><li><code>COPY app.py .</code>: ãƒ­ãƒ¼ã‚«ãƒ«ã®app.pyã‚’ã‚³ãƒ³ãƒ†ãƒŠã®ç¾åœ¨ä½ç½®ã«ã‚³ãƒ”ãƒ¼</li><li><code>-p 8080:8080</code>: ãƒ›ã‚¹ãƒˆã®ãƒãƒ¼ãƒˆ8080ã‚’ã‚³ãƒ³ãƒ†ãƒŠã®ãƒãƒ¼ãƒˆ8080ã«ãƒãƒƒãƒ”ãƒ³ã‚°</li></ul><h2 id="dockerfileãƒ˜ã‚™ã‚¹ãƒˆãƒ•ã‚šãƒ©ã‚¯ãƒ†ã‚£ã‚¹" tabindex="-1"><a class="header-anchor" href="#dockerfileãƒ˜ã‚™ã‚¹ãƒˆãƒ•ã‚šãƒ©ã‚¯ãƒ†ã‚£ã‚¹"><span>Dockerfileãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹</span></a></h2><h3 id="_1-è»½é‡ãªãƒ˜ã‚™ãƒ¼ã‚¹ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™ã‚’é¸æŠ" tabindex="-1"><a class="header-anchor" href="#_1-è»½é‡ãªãƒ˜ã‚™ãƒ¼ã‚¹ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™ã‚’é¸æŠ"><span>1. è»½é‡ãªãƒ™ãƒ¼ã‚¹ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’é¸æŠ</span></a></h3><div class="language-Dockerfile line-numbers-mode" data-highlighter="prismjs" data-ext="Dockerfile"><pre><code><span class="line"># è‰¯ã„ä¾‹: è»½é‡ç‰ˆã‚’ä½¿ç”¨</span>
<span class="line">FROM python:3.13-slim</span>
<span class="line"></span>
<span class="line"># é¿ã‘ã‚‹ã¹ãä¾‹: ãƒ•ãƒ«ã‚µã‚¤ã‚ºç‰ˆ</span>
<span class="line">FROM python:3.13</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-ãƒ¬ã‚¤ãƒ¤ãƒ¼æ•°ã‚’æœ€é©åŒ–" tabindex="-1"><a class="header-anchor" href="#_2-ãƒ¬ã‚¤ãƒ¤ãƒ¼æ•°ã‚’æœ€é©åŒ–"><span>2. ãƒ¬ã‚¤ãƒ¤ãƒ¼æ•°ã‚’æœ€é©åŒ–</span></a></h3><div class="language-Dockerfile line-numbers-mode" data-highlighter="prismjs" data-ext="Dockerfile"><pre><code><span class="line"># è‰¯ã„ä¾‹: RUNã‚’çµåˆ</span>
<span class="line">RUN apt-get update &amp;&amp; \</span>
<span class="line">    apt-get install -y curl &amp;&amp; \</span>
<span class="line">    apt-get clean &amp;&amp; \</span>
<span class="line">    rm -rf /var/lib/apt/lists/*</span>
<span class="line"></span>
<span class="line"># é¿ã‘ã‚‹ã¹ãä¾‹: å€‹åˆ¥ã®RUN</span>
<span class="line">RUN apt-get update</span>
<span class="line">RUN apt-get install -y curl</span>
<span class="line">RUN apt-get clean</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’åŠ¹ç‡çš„ã«æ´»ç”¨" tabindex="-1"><a class="header-anchor" href="#_3-ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’åŠ¹ç‡çš„ã«æ´»ç”¨"><span>3. ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’åŠ¹ç‡çš„ã«æ´»ç”¨</span></a></h3><div class="language-Dockerfile line-numbers-mode" data-highlighter="prismjs" data-ext="Dockerfile"><pre><code><span class="line"># è‰¯ã„ä¾‹: å¤‰æ›´é »åº¦ã®ä½ã„ã‚‚ã®ã‚’å…ˆã«</span>
<span class="line">COPY requirements.txt .</span>
<span class="line">RUN pip install -r requirements.txt</span>
<span class="line">COPY . .</span>
<span class="line"></span>
<span class="line"># é¿ã‘ã‚‹ã¹ãä¾‹: ã™ã¹ã¦ã‚’ä¸€åº¦ã«ã‚³ãƒ”ãƒ¼</span>
<span class="line">COPY . .</span>
<span class="line">RUN pip install -r requirements.txt</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚’è€ƒæ…®" tabindex="-1"><a class="header-anchor" href="#_4-ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚’è€ƒæ…®"><span>4. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚’è€ƒæ…®</span></a></h3><div class="language-Dockerfile line-numbers-mode" data-highlighter="prismjs" data-ext="Dockerfile"><pre><code><span class="line"># érootãƒ¦ãƒ¼ã‚¶ãƒ¼ã§å®Ÿè¡Œ</span>
<span class="line">RUN useradd -m appuser</span>
<span class="line">USER appuser</span>
<span class="line"></span>
<span class="line"># æ©Ÿå¯†æƒ…å ±ã‚’ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ã—ãªã„</span>
<span class="line">ENV DATABASE_URL=${DATABASE_URL}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ãƒãƒ³ã‚¹ã‚™ã‚ªãƒ³3-å®Ÿç”¨çš„ãªwebã‚¢ãƒ•ã‚šãƒªã‚±ãƒ¼ã‚·ãƒ§" tabindex="-1"><a class="header-anchor" href="#ãƒãƒ³ã‚¹ã‚™ã‚ªãƒ³3-å®Ÿç”¨çš„ãªwebã‚¢ãƒ•ã‚šãƒªã‚±ãƒ¼ã‚·ãƒ§"><span>ãƒãƒ³ã‚ºã‚ªãƒ³3: å®Ÿç”¨çš„ãªWebã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§</span></a></h2><h3 id="ç›®æ¨™-2" tabindex="-1"><a class="header-anchor" href="#ç›®æ¨™-2"><span>ğŸ¯ ç›®æ¨™</span></a></h3><ul><li>ä¾å­˜é–¢ä¿‚ã‚’å«ã‚€å®Ÿç”¨çš„ãªWebã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚³ãƒ³ãƒ†ãƒŠã‚’ä½œæˆã—ã¾ã™ã€‚</li><li>ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã«å‰‡ã•ãªã„ãƒã‚¤ãƒ³ãƒˆã‚’ä¿®æ­£ã—ã¦åŠ¹ç‡çš„ãªDockerfileã«ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã™ã‚‹ã€‚</li></ul><p><strong>1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ</strong></p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">mkdir</span> hands-on3</span>
<span class="line"><span class="token builtin class-name">cd</span> hands-on3</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ</strong></p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">hands-on3/</span>
<span class="line">â”œâ”€â”€ README.md</span>
<span class="line">â”œâ”€â”€ Dockerfile</span>
<span class="line">â””â”€â”€ app/</span>
<span class="line">    â”œâ”€â”€ templates/</span>
<span class="line">    â”‚   â””â”€â”€ index.html</span>
<span class="line">    â”œâ”€â”€ main.py</span>
<span class="line">    â””â”€â”€ requirements.txt</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>2. è¦ä»¶ãƒ•ã‚¡ã‚¤ãƒ«ã‚’gitã‹ã‚‰å–å¾—</strong></p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">git</span> clone https://github.com/tsuyotech-meetup/bootcamp-docker-sample.git <span class="token builtin class-name">.</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>3. ãƒ“ãƒ«ãƒ‰ã¨å®Ÿè¡Œ</strong></p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token comment"># ã‚¤ãƒ¡ãƒ¼ã‚¸ãƒ“ãƒ«ãƒ‰</span></span>
<span class="line"><span class="token function">docker</span> build <span class="token parameter variable">-t</span> flask-app-before-<span class="token operator">&lt;</span>user name<span class="token operator">&gt;</span> <span class="token builtin class-name">.</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># ã‚³ãƒ³ãƒ†ãƒŠå®Ÿè¡Œ</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-p</span> <span class="token number">5000</span>:5000 flask-app-before-<span class="token operator">&lt;</span>user name<span class="token operator">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å‹•ä½œç¢ºèª-2" tabindex="-1"><a class="header-anchor" href="#å‹•ä½œç¢ºèª-2"><span>âœ… å‹•ä½œç¢ºèª</span></a></h3><ol><li>ãƒ–ãƒ©ã‚¦ã‚¶ã§ <code>http://localhost:5000</code> ã«ã‚¢ã‚¯ã‚»ã‚¹</li><li>ãƒšãƒ¼ã‚¸ã®è¨ªå•å›æ•°ãŒå¢—åŠ ã™ã‚‹ã“ã¨ã‚’ç¢ºèª</li></ol><h3 id="ç¾åœ¨ã®dockerfileã®å•é¡Œç‚¹" tabindex="-1"><a class="header-anchor" href="#ç¾åœ¨ã®dockerfileã®å•é¡Œç‚¹"><span>âš ï¸ ç¾åœ¨ã®Dockerfileã®å•é¡Œç‚¹</span></a></h3><p>GitHubã‹ã‚‰å–å¾—ã—ãŸã‚³ãƒ¼ãƒ‰ã‚’ç¢ºèªã—ã€ä»¥ä¸‹ã®å•é¡Œã‚’è¦‹ã¤ã‘ã¦ä¿®æ­£ã—ã¦ãã ã•ã„ï¼š</p><p><strong>å•é¡Œ1: ã‚­ãƒ£ãƒƒã‚·ãƒ¥åŠ¹ç‡ãŒæ‚ªã„</strong></p><ul><li>ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒæ¯å›å®Ÿè¡Œã•ã‚Œã‚‹</li><li>ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰ã®å¤‰æ›´æ™‚ã‚‚ä¾å­˜é–¢ä¿‚ãŒå†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã‚‹</li></ul><p><strong>å•é¡Œ2: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒªã‚¹ã‚¯</strong></p><ul><li>rootãƒ¦ãƒ¼ã‚¶ãƒ¼ã§ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒå®Ÿè¡Œã•ã‚Œã‚‹</li><li>ä¸è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã«å«ã¾ã‚Œã‚‹</li></ul><p><strong>å•é¡Œ3: ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚µã‚¤ã‚ºãŒå¤§ãã„</strong></p><ul><li>ãƒ•ãƒ«ã‚µã‚¤ã‚ºã®Pythonã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½¿ç”¨</li><li>é–‹ç™ºç”¨ã®ä¾å­˜é–¢ä¿‚ã‚‚å«ã¾ã‚Œã¦ã„ã‚‹</li></ul><h3 id="æ”¹å–„åŠ¹æœã®æ¸¬å®š" tabindex="-1"><a class="header-anchor" href="#æ”¹å–„åŠ¹æœã®æ¸¬å®š"><span>ğŸ” æ”¹å–„åŠ¹æœã®æ¸¬å®š</span></a></h3><p>ä¿®æ­£å‰å¾Œã§ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚µã‚¤ã‚ºã¨ãƒ“ãƒ«ãƒ‰æ™‚é–“ã‚’æ¯”è¼ƒã—ã¦ã¿ã¾ã—ã‚‡ã†ï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token comment"># ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚µã‚¤ã‚ºã®ç¢ºèª</span></span>
<span class="line"><span class="token function">docker</span> images flask-app-before-<span class="token operator">&lt;</span>user name<span class="token operator">&gt;</span></span>
<span class="line"><span class="token function">docker</span> images flask-app-after-<span class="token operator">&lt;</span>user name<span class="token operator">&gt;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># ãƒ“ãƒ«ãƒ‰æ™‚é–“ã®æ¸¬å®š</span></span>
<span class="line"><span class="token function">time</span> <span class="token function">docker</span> build <span class="token parameter variable">-t</span> flask-app-after-<span class="token operator">&lt;</span>user name<span class="token operator">&gt;</span> <span class="token builtin class-name">.</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ”¹å–„ãƒãƒ£ãƒ¬ãƒ³ã‚·ã‚™" tabindex="-1"><a class="header-anchor" href="#æ”¹å–„ãƒãƒ£ãƒ¬ãƒ³ã‚·ã‚™"><span>ğŸ¤” æ”¹å–„ãƒãƒ£ãƒ¬ãƒ³ã‚¸</span></a></h3><p>ã¾ãšã¯è‡ªåˆ†ã§æ”¹å–„ç‰ˆDockerfileã‚’ä½œæˆã—ã¦ã¿ã¦ãã ã•ã„ï¼</p><details class="hint-container details"><summary>è§£ç­”ä¾‹ã‚’è¦‹ã‚‹</summary><p><strong>æ”¹å–„ç‰ˆDockerfileã®ä¾‹</strong></p><div class="language-Dockerfile line-numbers-mode" data-highlighter="prismjs" data-ext="Dockerfile"><pre><code><span class="line"># æ”¹å–„1: è»½é‡ç‰ˆã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½¿ç”¨</span>
<span class="line">FROM python:3.13-slim</span>
<span class="line"></span>
<span class="line"># æ”¹å–„2: ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’æœ€åˆã«è¨­å®š</span>
<span class="line">WORKDIR /app</span>
<span class="line"></span>
<span class="line"># æ”¹å–„3: è¦ä»¶ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å…ˆã«ã‚³ãƒ”ãƒ¼ï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥åŠ¹ç‡åŒ–ï¼‰</span>
<span class="line">COPY ./app/requirements.txt .</span>
<span class="line"></span>
<span class="line"># æ”¹å–„4: å¿…è¦æœ€å°é™ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã¿ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</span>
<span class="line">RUN apt-get update &amp;&amp; \</span>
<span class="line">    apt-get install -y --no-install-recommends curl &amp;&amp; \</span>
<span class="line">    pip install --no-cache-dir -r requirements.txt &amp;&amp; \</span>
<span class="line">    apt-get clean &amp;&amp; \</span>
<span class="line">    rm -rf /var/lib/apt/lists/*</span>
<span class="line"></span>
<span class="line"># æ”¹å–„5: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚³ãƒ”ãƒ¼</span>
<span class="line">COPY app/ ./app/</span>
<span class="line"></span>
<span class="line"># æ”¹å–„6: érootãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ä½œæˆ</span>
<span class="line">RUN adduser --disabled-password --no-create-home appuser &amp;&amp; \</span>
<span class="line">    chown -R appuser:appuser /app</span>
<span class="line">USER appuser</span>
<span class="line"></span>
<span class="line"># æ”¹å–„7: ãƒãƒ¼ãƒˆå…¬é–‹</span>
<span class="line">EXPOSE 5000</span>
<span class="line"></span>
<span class="line"># æ”¹å–„8: ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯è¿½åŠ </span>
<span class="line">HEALTHCHECK --interval=30s --timeout=3s --start-period=5s --retries=3 \</span>
<span class="line">    CMD curl -f http://localhost:5000/health || exit 1</span>
<span class="line"></span>
<span class="line"># ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³èµ·å‹•</span>
<span class="line">CMD [&quot;python&quot;, &quot;app/main.py&quot;]</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>.dockerignoreãƒ•ã‚¡ã‚¤ãƒ«</strong></p><div class="language-ini line-numbers-mode" data-highlighter="prismjs" data-ext="ini"><pre><code><span class="line"><span class="token comment"># .dockerignore</span></span>
<span class="line">__pycache__</span>
<span class="line">*.pyc</span>
<span class="line">*.pyo</span>
<span class="line">*.pyd</span>
<span class="line">.Python</span>
<span class="line">.git</span>
<span class="line">.pytest_cache</span>
<span class="line">.venv</span>
<span class="line">node_modules</span>
<span class="line">README.md</span>
<span class="line">.gitignore</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä¸»ãªæ”¹å–„ç‚¹ï¼š</strong></p><ol><li><strong>è»½é‡åŒ–</strong>: <code>python:3.13-slim</code>ã‚’ä½¿ç”¨ã—ã¦ã‚µã‚¤ã‚ºå‰Šæ¸›</li><li><strong>ã‚­ãƒ£ãƒƒã‚·ãƒ¥åŠ¹ç‡</strong>: requirements.txtã‚’å…ˆã«ã‚³ãƒ”ãƒ¼</li><li><strong>ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£</strong>: érootãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼ˆappuserï¼‰ã§å®Ÿè¡Œ</li><li><strong>ä¸è¦ãƒ•ã‚¡ã‚¤ãƒ«é™¤å¤–</strong>: .dockerignoreã§æœ€é©åŒ–</li></ol></details><h2 id="ãƒãƒ³ã‚¹ã‚™ã‚ªãƒ³4-ç©¶æ¥µã®æœ€é©åŒ–-distroless-ãƒãƒ«ãƒã‚¹ãƒ†ãƒ¼ã‚·ã‚™ãƒ’ã‚™ãƒ«ãƒˆã‚™" tabindex="-1"><a class="header-anchor" href="#ãƒãƒ³ã‚¹ã‚™ã‚ªãƒ³4-ç©¶æ¥µã®æœ€é©åŒ–-distroless-ãƒãƒ«ãƒã‚¹ãƒ†ãƒ¼ã‚·ã‚™ãƒ’ã‚™ãƒ«ãƒˆã‚™"><span>ãƒãƒ³ã‚ºã‚ªãƒ³4: ç©¶æ¥µã®æœ€é©åŒ– - Distroless &amp; ãƒãƒ«ãƒã‚¹ãƒ†ãƒ¼ã‚¸ãƒ“ãƒ«ãƒ‰</span></a></h2><h3 id="ç›®æ¨™-3" tabindex="-1"><a class="header-anchor" href="#ç›®æ¨™-3"><span>ğŸ¯ ç›®æ¨™</span></a></h3><ul><li>ãƒãƒ«ãƒã‚¹ãƒ†ãƒ¼ã‚¸ãƒ“ãƒ«ãƒ‰ã«ã‚ˆã‚‹è¶…è»½é‡ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ä½œæˆ</li><li>Distrolessã‚¤ãƒ¡ãƒ¼ã‚¸ã«ã‚ˆã‚‹ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–</li><li>ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³å“è³ªã®ã‚³ãƒ³ãƒ†ãƒŠæ§‹ç¯‰æŠ€è¡“ã®ç¿’å¾—</li></ul><h3 id="å®Ÿè£…-2" tabindex="-1"><a class="header-anchor" href="#å®Ÿè£…-2"><span>ğŸ“ å®Ÿè£…</span></a></h3><p><strong>1. å¾“æ¥ç‰ˆã¨ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚µã‚¤ã‚ºæ¯”è¼ƒæº–å‚™</strong></p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token comment"># ãƒãƒ³ã‚ºã‚ªãƒ³3ã®æ”¹å–„ç‰ˆã‚¤ãƒ¡ãƒ¼ã‚¸ã‚µã‚¤ã‚ºã‚’ç¢ºèª</span></span>
<span class="line"><span class="token function">docker</span> images flask-app-after</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>2. ãƒãƒ«ãƒã‚¹ãƒ†ãƒ¼ã‚¸ + Distroless Dockerfileã‚’ä½œæˆ</strong></p><div class="language-docker line-numbers-mode" data-highlighter="prismjs" data-ext="docker"><pre><code><span class="line"><span class="token comment"># Dockerfile.distroless</span></span>
<span class="line"><span class="token comment"># ============================================</span></span>
<span class="line"><span class="token comment"># Stage 1: ãƒ“ãƒ«ãƒ‰ã‚¹ãƒ†ãƒ¼ã‚¸</span></span>
<span class="line"><span class="token comment"># ============================================</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">FROM</span> python:3.11-slim <span class="token keyword">AS</span> builder</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># ä¾å­˜é–¢ä¿‚ã‚’ã‚·ã‚¹ãƒ†ãƒ ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">COPY</span> app/requirements.txt .</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">RUN</span> pip install --no-cache-dir -r requirements.txt</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token comment"># ============================================</span></span>
<span class="line"><span class="token comment"># Stage 2: å®Ÿè¡Œã‚¹ãƒ†ãƒ¼ã‚¸ï¼ˆDistrolessï¼‰</span></span>
<span class="line"><span class="token comment"># ============================================</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">FROM</span> gcr.io/distroless/python3-debian12:latest</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># site-packagesã‚’ç›´æ¥ã‚³ãƒ”ãƒ¼</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">COPY</span> <span class="token options"><span class="token property">--from</span><span class="token punctuation">=</span><span class="token string">builder</span></span> /usr/local/lib/python3.11/site-packages /usr/local/lib/python3.11/site-packages</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚³ãƒ”ãƒ¼</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">COPY</span> <span class="token options"><span class="token property">--chown</span><span class="token punctuation">=</span><span class="token string">nonroot:nonrootp</span></span> app/ /app/</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># ç’°å¢ƒå¤‰æ•°è¨­å®š</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">ENV</span> PYTHONPATH=<span class="token string">&quot;/usr/local/lib/python3.11/site-packages&quot;</span></span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªè¨­å®š</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">WORKDIR</span> /app</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># éç‰¹æ¨©ãƒ¦ãƒ¼ã‚¶ãƒ¼ã§å®Ÿè¡Œ</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">USER</span> nonroot:nonroot</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># ãƒãƒ¼ãƒˆå…¬é–‹</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">EXPOSE</span> 5000</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³èµ·å‹•</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">CMD</span> [<span class="token string">&quot;main.py&quot;</span>]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>2. ã‚¤ãƒ¡ãƒ¼ã‚¸ãƒ“ãƒ«ãƒ‰ã¨æ¯”è¼ƒ</strong></p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token comment"># å¾“æ¥ç‰ˆã®ã‚µã‚¤ã‚ºç¢ºèª</span></span>
<span class="line"><span class="token function">docker</span> images flask-app-after-<span class="token operator">&lt;</span>user name<span class="token operator">&gt;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># Distrolessç‰ˆã‚’ãƒ“ãƒ«ãƒ‰</span></span>
<span class="line"><span class="token function">docker</span> build <span class="token parameter variable">-f</span> Dockerfile.distroless <span class="token parameter variable">-t</span> flask-app-distroless-<span class="token operator">&lt;</span>user name<span class="token operator">&gt;</span> <span class="token builtin class-name">.</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># ã‚µã‚¤ã‚ºæ¯”è¼ƒ</span></span>
<span class="line"><span class="token function">docker</span> images flask-app-after-<span class="token operator">&lt;</span>user name<span class="token operator">&gt;</span> <span class="token parameter variable">--format</span> <span class="token string">&quot;table {{.Repository}}<span class="token entity" title="\t">\t</span>{{.Tag}}<span class="token entity" title="\t">\t</span>{{.Size}}&quot;</span></span>
<span class="line"><span class="token function">docker</span> images flask-app-distroless-<span class="token operator">&lt;</span>user name<span class="token operator">&gt;</span> <span class="token parameter variable">--format</span> <span class="token string">&quot;table {{.Repository}}<span class="token entity" title="\t">\t</span>{{.Tag}}<span class="token entity" title="\t">\t</span>{{.Size}}&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>3. å®Ÿè¡Œã¨å‹•ä½œç¢ºèª</strong></p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token comment"># Distrolessç‰ˆã‚’å®Ÿè¡Œ</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-p</span> <span class="token number">5000</span>:5000 flask-app-distroless-<span class="token operator">&lt;</span>user name<span class="token operator">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å‹•ä½œç¢ºèª-3" tabindex="-1"><a class="header-anchor" href="#å‹•ä½œç¢ºèª-3"><span>âœ… å‹•ä½œç¢ºèª</span></a></h3><ol><li>ãƒ–ãƒ©ã‚¦ã‚¶ã§ <code>http://localhost:5000</code> ã«ã‚¢ã‚¯ã‚»ã‚¹</li></ol><h3 id="è§£èª¬-2" tabindex="-1"><a class="header-anchor" href="#è§£èª¬-2"><span>ğŸ’¡ è§£èª¬</span></a></h3><p><strong>ãƒãƒ«ãƒã‚¹ãƒ†ãƒ¼ã‚¸ãƒ“ãƒ«ãƒ‰ã®åˆ©ç‚¹:</strong></p><ul><li><strong>ãƒ“ãƒ«ãƒ‰ç’°å¢ƒã¨å®Ÿè¡Œç’°å¢ƒã®åˆ†é›¢</strong>: é–‹ç™ºãƒ„ãƒ¼ãƒ«ã‚’å®Ÿè¡Œã‚¤ãƒ¡ãƒ¼ã‚¸ã«å«ã‚ãªã„</li><li><strong>ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚µã‚¤ã‚ºã®æœ€å°åŒ–</strong>: å¿…è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ã‚’å®Ÿè¡Œã‚¹ãƒ†ãƒ¼ã‚¸ã«ã‚³ãƒ”ãƒ¼</li><li><strong>ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å‘ä¸Š</strong>: æ”»æ’ƒå¯¾è±¡ã®æœ€å°åŒ–</li></ul><p><strong>Distrolessã‚¤ãƒ¡ãƒ¼ã‚¸ã®ç‰¹å¾´:</strong></p><ul><li><strong>ã‚·ã‚§ãƒ«ãªã—</strong>: æ”»æ’ƒè€…ãŒã‚·ã‚§ãƒ«ã‚¢ã‚¯ã‚»ã‚¹ã§ããªã„</li><li><strong>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ãªã—</strong>: è¿½åŠ ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ããªã„</li><li><strong>æœ€å°é™ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ </strong>: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œã«å¿…è¦ãªæœ€å°é™ã®ã¿</li><li><strong>érootãƒ¦ãƒ¼ã‚¶ãƒ¼</strong>: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§éç‰¹æ¨©ãƒ¦ãƒ¼ã‚¶ãƒ¼ã§å®Ÿè¡Œ</li></ul><h3 id="ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–ã®ç¢ºèª" tabindex="-1"><a class="header-anchor" href="#ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–ã®ç¢ºèª"><span>ğŸ›¡ï¸ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–ã®ç¢ºèª</span></a></h3><p><strong>ã‚³ãƒ³ãƒ†ãƒŠå†…ã¸ã®ä¾µå…¥ä¸å¯èƒ½æ€§ã‚’ãƒ†ã‚¹ãƒˆ</strong></p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token comment"># æ¨™æº–ã‚¤ãƒ¡ãƒ¼ã‚¸: ã‚·ã‚§ãƒ«ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-it</span> <span class="token parameter variable">--rm</span> flask-app-after-<span class="token operator">&lt;</span>user name<span class="token operator">&gt;</span> <span class="token function">bash</span></span>
<span class="line"><span class="token comment"># â†’ ã‚·ã‚§ãƒ«ãŒèµ·å‹•ã™ã‚‹</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># Distrolessã‚¤ãƒ¡ãƒ¼ã‚¸: ã‚·ã‚§ãƒ«ã‚¢ã‚¯ã‚»ã‚¹ä¸å¯</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-it</span> <span class="token parameter variable">--rm</span> flask-app-distroless-<span class="token operator">&lt;</span>user name<span class="token operator">&gt;</span> <span class="token function">bash</span></span>
<span class="line"><span class="token comment"># â†’ ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿï¼ˆã‚·ã‚§ãƒ«ãŒå­˜åœ¨ã—ãªã„ï¼‰</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>è„†å¼±æ€§ã‚¹ã‚­ãƒ£ãƒ³ã®å®Ÿè·µ</strong></p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token comment"># Docker Scout ã‚’ä½¿ç”¨ã—ãŸè„†å¼±æ€§ã‚¹ã‚­ãƒ£ãƒ³ï¼ˆDocker Desktopå¿…è¦ï¼‰</span></span>
<span class="line"><span class="token function">docker</span> scout cves flask-app-after-<span class="token operator">&lt;</span>user name<span class="token operator">&gt;</span></span>
<span class="line"><span class="token function">docker</span> scout cves flask-app-distroless-<span class="token operator">&lt;</span>user name<span class="token operator">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="åˆ¶é™äº‹é …ã¨æ³¨æ„ç‚¹" tabindex="-1"><a class="header-anchor" href="#åˆ¶é™äº‹é …ã¨æ³¨æ„ç‚¹"><span>âš ï¸ åˆ¶é™äº‹é …ã¨æ³¨æ„ç‚¹</span></a></h3><p><strong>Distrolessã®åˆ¶ç´„:</strong></p><ul><li>ãƒ‡ãƒãƒƒã‚°ãŒå›°é›£ï¼ˆã‚·ã‚§ãƒ«ã‚¢ã‚¯ã‚»ã‚¹ä¸å¯ï¼‰</li><li>ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æ™‚ã®èª¿æŸ»æ–¹æ³•ãŒé™å®šçš„</li><li>ä¸€éƒ¨ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒå‹•ä½œã—ãªã„å¯èƒ½æ€§</li></ul><p><strong>ãƒ‡ãƒãƒƒã‚°æ–¹æ³•:</strong></p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token comment"># ãƒ‡ãƒãƒƒã‚°ç”¨ã«ãƒ“ãƒ«ãƒ‰ã‚¹ãƒ†ãƒ¼ã‚¸ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œæˆ</span></span>
<span class="line"><span class="token function">docker</span> build <span class="token parameter variable">--target</span> builder <span class="token parameter variable">-t</span> flask-debug-<span class="token operator">&lt;</span>user name<span class="token operator">&gt;</span> <span class="token builtin class-name">.</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># ãƒ“ãƒ«ãƒ‰ã‚¹ãƒ†ãƒ¼ã‚¸ã§ãƒ‡ãƒãƒƒã‚°</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-it</span> flask-debug-<span class="token operator">&lt;</span>user name<span class="token operator">&gt;</span> <span class="token function">bash</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºæ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºæ–¹æ³•"><span>ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºæ–¹æ³•</span></a></h2><h3 id="å•é¡Œ1-ãƒ›ã‚šãƒ¼ãƒˆ8080ã‹ã‚™æ—¢ã«ä½¿ç”¨ä¸­" tabindex="-1"><a class="header-anchor" href="#å•é¡Œ1-ãƒ›ã‚šãƒ¼ãƒˆ8080ã‹ã‚™æ—¢ã«ä½¿ç”¨ä¸­"><span>å•é¡Œ1: ãƒãƒ¼ãƒˆ8080ãŒæ—¢ã«ä½¿ç”¨ä¸­</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token comment"># ä½¿ç”¨ä¸­ã®ãƒãƒ¼ãƒˆã‚’ç¢ºèª</span></span>
<span class="line"><span class="token function">netstat</span> <span class="token parameter variable">-tulpn</span> <span class="token operator">|</span> <span class="token function">grep</span> :8080</span>
<span class="line"></span>
<span class="line"><span class="token comment"># åˆ¥ã®ãƒãƒ¼ãƒˆã‚’ä½¿ç”¨</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-p</span> <span class="token number">8081</span>:8080 simple-web-<span class="token operator">&lt;</span>user name<span class="token operator">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å•é¡Œ2-ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™ã‹ã‚™è¦‹ã¤ã‹ã‚‰ãªã„" tabindex="-1"><a class="header-anchor" href="#å•é¡Œ2-ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™ã‹ã‚™è¦‹ã¤ã‹ã‚‰ãªã„"><span>å•é¡Œ2: ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒè¦‹ã¤ã‹ã‚‰ãªã„</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token comment"># ä½œæˆã—ãŸã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ç¢ºèª</span></span>
<span class="line"><span class="token function">docker</span> images</span>
<span class="line"></span>
<span class="line"><span class="token comment"># ã‚¿ã‚°åã‚’æ­£ç¢ºã«æŒ‡å®š</span></span>
<span class="line"><span class="token function">docker</span> run hello-docker-<span class="token operator">&lt;</span>user name<span class="token operator">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å•é¡Œ3-ã‚³ãƒ³ãƒ†ãƒŠã‹ã‚™åœæ­¢ã—ãªã„" tabindex="-1"><a class="header-anchor" href="#å•é¡Œ3-ã‚³ãƒ³ãƒ†ãƒŠã‹ã‚™åœæ­¢ã—ãªã„"><span>å•é¡Œ3: ã‚³ãƒ³ãƒ†ãƒŠãŒåœæ­¢ã—ãªã„</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token comment"># å¼·åˆ¶åœæ­¢</span></span>
<span class="line"><span class="token function">docker</span> <span class="token function">ps</span>  <span class="token comment"># å®Ÿè¡Œä¸­ã®ã‚³ãƒ³ãƒ†ãƒŠIDã‚’ç¢ºèª</span></span>
<span class="line"><span class="token function">docker</span> stop <span class="token operator">&lt;</span>container_id<span class="token operator">&gt;</span></span>
<span class="line"><span class="token function">docker</span> <span class="token function">kill</span> <span class="token operator">&lt;</span>container_id<span class="token operator">&gt;</span>  <span class="token comment"># å¼·åˆ¶çµ‚äº†</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å­¦ç¿’ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ" tabindex="-1"><a class="header-anchor" href="#å­¦ç¿’ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ"><span>å­¦ç¿’ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ</span></a></h2><ul><li>[ ] ãƒãƒ³ã‚ºã‚ªãƒ³1: Hello WorldãŒå®Ÿè¡Œã§ããŸ</li><li>[ ] ãƒãƒ³ã‚ºã‚ªãƒ³2: Webãƒšãƒ¼ã‚¸ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ããŸ</li><li>[ ] ãƒãƒ³ã‚ºã‚ªãƒ³3: å•é¡Œç‚¹ã‚’3ã¤ä»¥ä¸Šç™ºè¦‹ã§ããŸ</li><li>[ ] <strong>ãƒãƒ³ã‚ºã‚ªãƒ³4: Distrolessã‚¤ãƒ¡ãƒ¼ã‚¸ãŒå®Ÿè¡Œã§ããŸ</strong></li><li>[ ] <strong>ãƒãƒ«ãƒã‚¹ãƒ†ãƒ¼ã‚¸ãƒ“ãƒ«ãƒ‰ã§ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚µã‚¤ã‚ºãŒå¤§å¹…å‰Šæ¸›ã•ã‚ŒãŸ</strong></li><li>[ ] <strong>ã‚·ã‚§ãƒ«ã‚¢ã‚¯ã‚»ã‚¹ãŒä¸å¯èƒ½ãªã“ã¨ã‚’ç¢ºèªã§ããŸ</strong></li><li>[ ] <strong>è„†å¼±æ€§æ•°ã®æ¸›å°‘ã‚’ç¢ºèªã§ããŸ</strong></li></ul><h3 id="é”æˆãƒ¬ãƒ˜ã‚™ãƒ«" tabindex="-1"><a class="header-anchor" href="#é”æˆãƒ¬ãƒ˜ã‚™ãƒ«"><span>é”æˆãƒ¬ãƒ™ãƒ«</span></a></h3><ul><li><strong>åˆç´š</strong>: ãƒãƒ³ã‚ºã‚ªãƒ³1-2å®Œäº†</li><li><strong>ä¸­ç´š</strong>: ãƒãƒ³ã‚ºã‚ªãƒ³3å®Œäº†ï¼ˆå•é¡Œè§£æ±ºèƒ½åŠ›ï¼‰</li><li><strong>ä¸Šç´š</strong>: ãƒãƒ³ã‚ºã‚ªãƒ³4å®Œäº†ï¼ˆãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³å“è³ªï¼‰</li></ul><h3 id="æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ•ã‚š" tabindex="-1"><a class="header-anchor" href="#æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ•ã‚š"><span>æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—</span></a></h3><ul><li><a class="route-link" href="/bootcamp/dev/container/02_compose_basic.html">ç¬¬2éƒ¨: Docker ComposeåŸºç¤ç·¨</a> - è¤‡æ•°ã‚³ãƒ³ãƒ†ãƒŠã®é€£æºã‚’å­¦ã¼ã†</li></ul></div><!--[--><!--]--></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link label" href="https://github.com/goegoe0212/bootcamp/blob/main/src/dev/container/01_dockerfile_basic.md" aria-label="Edit this page" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><svg class="edit-icon" viewbox="0 0 1024 1024"><g fill="currentColor"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></g></svg><!--]--><!--]-->Edit this page<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">æœ€çµ‚æ›´æ–°:: </span><time class="meta-item-info" datetime="2025-05-30T10:01:02.000Z" data-allow-mismatch>2025/05/30 10:01</time></div><div class="vp-meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: goegoe0212@outlook.jp">YUKI_ISHITSUKA</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: 100286791+goegoe0212@users.noreply.github.com">goegoe0212</span><!----><!--]--><!--]--></span></div></div></footer><!----><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/bootcamp/assets/app-DIohD7Uc.js" defer></script>
  </body>
</html>
